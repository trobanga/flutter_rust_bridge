"use strict";(self.webpackChunkflutter_rust_bridge=self.webpackChunkflutter_rust_bridge||[]).push([[2814],{3905:(e,t,n)=>{n.d(t,{Zo:()=>d,kt:()=>p});var r=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var s=r.createContext({}),u=function(e){var t=r.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},d=function(e){var t=u(e.components);return r.createElement(s.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var n=e.components,o=e.mdxType,a=e.originalType,s=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),m=u(n),p=o,f=m["".concat(s,".").concat(p)]||m[p]||c[p]||a;return n?r.createElement(f,i(i({ref:t},d),{},{components:n})):r.createElement(f,i({ref:t},d))}));function p(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var a=n.length,i=new Array(a);i[0]=m;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:o,i[1]=l;for(var u=2;u<a;u++)i[u]=n[u];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}m.displayName="MDXCreateElement"},7884:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>u,default:()=>f,frontMatter:()=>s,metadata:()=>d,toc:()=>m});var r=n(7462),o=n(7294),a=n(3905);function i(){return o.createElement(o.Fragment,null,o.createElement("div",{id:"flutter_host",style:{height:"500px",border:"1px solid #ccc"}},"Loading Flutter web app..."),o.createElement(l,null))}class l extends o.Component{componentDidMount(){console.log("FrbExampleGallery.FlutterInitializer componentDidMount");{console.log("FrbExampleGallery.FlutterInitializer add enable-threads.js script");const e=document.createElement("script");e.src="/flutter_rust_bridge/demo/enable-threads.js",document.body.appendChild(e)}{console.log("FrbExampleGallery.FlutterInitializer add flutter.js script");const e=document.createElement("script");e.src="/flutter_rust_bridge/demo/flutter.js",document.body.appendChild(e)}window.addEventListener("load",(function(e){console.log("FrbExampleGallery.FlutterInitializer call flutter-loadEntrypoint"),_flutter.loader.loadEntrypoint({onEntrypointLoaded:async function(e){console.log("FrbExampleGallery.FlutterInitializer call flutter-appRunner");let t=await e.initializeEngine({hostElement:document.querySelector("#flutter_host")});await t.runApp()}})}))}render(){return o.createElement("span",null)}}const s={},u="Demo",d={unversionedId:"demo",id:"demo",title:"Demo",description:"Some scenarios when using Rust and Dart include:",source:"@site/docs/demo.md",sourceDirName:".",slug:"/demo",permalink:"/flutter_rust_bridge/demo",draft:!1,editUrl:"https://github.com/fzyzcjy/flutter_rust_bridge/tree/master/website/docs/demo.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Quickstart",permalink:"/flutter_rust_bridge/quickstart"},next:{title:"Guides",permalink:"/flutter_rust_bridge/guides/"}},c={},m=[{value:"Introduction",id:"introduction",level:2},{value:"Mandelbrot",id:"mandelbrot",level:3},{value:"Polars",id:"polars",level:3},{value:"Demo",id:"demo-1",level:2}],p={toc:m};function f(e){let{components:t,...n}=e;return(0,a.kt)("wrapper",(0,r.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"demo"},"Demo"),(0,a.kt)("p",null,"Some scenarios when using Rust and Dart include:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Use arbitrary Rust libraries, in Dart"),":\nWhen there is a library only existing in Rust but not in Dart."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"High-performance code in Rust, others in Dart"),":\nRust makes it easy to write multi-thread code, algorithms, data-intensive operations, etc."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Logic in Rust, UI in Dart"),":\nWhen you want a UI framework (Flutter) for your Rust system.")),(0,a.kt)("p",null,"We briefly demonstrate two of them here."),(0,a.kt)("h2",{id:"introduction"},"Introduction"),(0,a.kt)("h3",{id:"mandelbrot"},"Mandelbrot"),(0,a.kt)("p",null,"In this demo,\nlet us draw a ",(0,a.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Mandelbrot_set"},"Mandelbrot set"),'\n(a well-known infinite-resolution "image" generated by a simple math formula).\nThe image is plotted in Flutter UI, generated by Rust algorithm, and communicated via this library.\nTweak the number of threads to see how multi-thread Rust code speeds up :)'),(0,a.kt)("details",null,(0,a.kt)("summary",null,"What is a Mandelbrot Set"),(0,a.kt)("p",null,"The Mandelbrot set is the set of complex numbers ",(0,a.kt)("inlineCode",{parentName:"p"},"c"),"\nfor which the function ",(0,a.kt)("inlineCode",{parentName:"p"},"f_c(z)=z^{2}+c")," does not diverge to infinity when iterated from ",(0,a.kt)("inlineCode",{parentName:"p"},"z=0"),".\nImages of the Mandelbrot set exhibit an elaborate and infinitely complicated boundary\nthat reveals progressively ever-finer recursive detail at increasing magnifications."),(0,a.kt)("p",{align:"center"},(0,a.kt)("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a4/Mandelbrot_sequence_new.gif/220px-Mandelbrot_sequence_new.gif"})),(0,a.kt)("p",null,"Image credit: ",(0,a.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/User:Simpsons_contributor"},"Simpsons contributor"))),(0,a.kt)("small",null,"Remarks: The mandelbrot set was the only demo since 2021.10 in V1 version. The Rust code is deliberately not implemented the usual way, in order to ensure the computation speed is homogeneous for intuitive comparison."),(0,a.kt)("h3",{id:"polars"},"Polars"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"Polars")," is a popular library for data processing written in Rust,\nand in this demo, we shows how it is called from Dart easily."),(0,a.kt)("p",null,"For a more full demo,\nplease visit ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/Desdaemon/polars_dart"},"Desdaemon/polars_dart"),".\n(That one is still using V1 yet,\nand is ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/Desdaemon/polars_dart/issues/3#issuecomment-1705913689"},"semi-outdated"),",\nbut can still be used as a reference.)"),(0,a.kt)("h2",{id:"demo-1"},"Demo"),(0,a.kt)("admonition",{type:"info"},(0,a.kt)("p",{parentName:"admonition"},"Expect the demo to be slow to load, ugly on small devices, etc.\nSince the focus is the library instead of the demo, the demo code is super naive and minimal.")),(0,a.kt)(i,{mdxType:"FrbExampleGallery"}),(0,a.kt)("p",null,"All source code can be found in ",(0,a.kt)("inlineCode",{parentName:"p"},"frb_example/gallery."),"\nRemember to ignore all ",(0,a.kt)("inlineCode",{parentName:"p"},"ignore_me")," folders, which contain code unrelated to the purpose of the demos."))}f.isMDXComponent=!0}}]);